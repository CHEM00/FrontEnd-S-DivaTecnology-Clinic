---
import Layout from "../layouts/Layout.astro";
import NavBar from "../components/NavBar.astro";
---
<Layout>
	<div class="flex h-screen dashboard-container">
		<NavBar />
		<div class="flex-1 flex flex-col overflow-hidden">
			<!-- Header -->
			<header class="dashboard-header shadow-sm">
				<div class="flex justify-between items-center px-6 py-4">
					<h1>Dashboard</h1>
					<div class="flex items-center space-x-4">
						<span class="welcome-text">Bienvenido, Administrador</span>
						<button onclick="logout()" class="logout-button">
							Cerrar Sesión
						</button>
					</div>
				</div>
			</header>

			<main class="dashboard-main">
				<!-- Estadísticas principales -->
				<div class="dashboard-grid">
					<div class="dashboard-stat-card text-white">
						<div class="dashboard-stat-content">
							<div class="dashboard-stat-info">
								<p class="dashboard-stat-title">Total User</p>
								<p class="dashboard-stat-value">40,689</p>
								<p class="dashboard-stat-subtitle">8.5% Up from yesterday</p>
							</div>
							<div class="dashboard-stat-icon">
								<i class="fa-solid fa-users"></i>
							</div>
						</div>
					</div>

					<div class="dashboard-stat-card text-white">
						<div class="dashboard-stat-content">
							<div class="dashboard-stat-info">
								<p class="dashboard-stat-title">Total Order</p>
								<p class="dashboard-stat-value">10,293</p>
								<p class="dashboard-stat-subtitle">1.3% Up from past week</p>
							</div>
							<div class="dashboard-stat-icon">
								<i class="fa-solid fa-shopping-cart"></i>
							</div>
						</div>
					</div>

					<div class="dashboard-stat-card text-white">
						<div class="dashboard-stat-content">
							<div class="dashboard-stat-info">
								<p class="dashboard-stat-title">Total Sales</p>
								<p class="dashboard-stat-value">$89,000</p>
								<p class="dashboard-stat-subtitle">4.3% Down from yesterday</p>
							</div>
							<div class="dashboard-stat-icon">
								<i class="fa-solid fa-chart-line"></i>
							</div>
						</div>
					</div>

					<div class="dashboard-stat-card text-white">
						<div class="dashboard-stat-content">
							<div class="dashboard-stat-info">
								<p class="dashboard-stat-title">Total Pending</p>
								<p class="dashboard-stat-value">2,040</p>
								<p class="dashboard-stat-subtitle">1.8% Up from yesterday</p>
							</div>
							<div class="dashboard-stat-icon">
								<i class="fa-solid fa-clock"></i>
							</div>
						</div>
					</div>
				</div>

				<!-- Gráfica de ventas y próximas citas -->
				<div class="dashboard-stats-grid">
					<!-- Gráfica de ventas -->
					<div class="dashboard-content-card">
						<h3 class="dashboard-card-title">Sales Details</h3>
						<div class="sales-chart-container">
							<div class="sales-chart-placeholder">
								<div class="sales-chart-graphic">
									<span class="sales-chart-percentage">54%</span>
								</div>
								<p class="sales-chart-text">Gráfica de ventas mensuales</p>
							</div>
						</div>
					</div>

					<!-- Próximas citas -->
					<div class="dashboard-content-card">
						<h3 class="dashboard-card-title">Próximas Citas Hoy</h3>
						<div class="appointments-list">
							<div class="appointment-item">
								<div class="appointment-info">
									<p class="appointment-time">10:00 AM</p>
									<p class="appointment-patient">PACIENTE 1</p>
								</div>
								<span class="status-pending">PENDIENTE</span>
							</div>
							<div class="appointment-item">
								<div class="appointment-info">
									<p class="appointment-time">10:00 AM</p>
									<p class="appointment-patient">PACIENTE 2</p>
								</div>
								<span class="status-pending">PENDIENTE</span>
							</div>
							<div class="appointment-item">
								<div class="appointment-info">
									<p class="appointment-time">11:00 AM</p>
									<p class="appointment-patient">PACIENTE 3</p>
								</div>
								<span class="status-confirmed">CONFIRMADA</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Acciones rápidas -->
				<div class="dashboard-actions-grid">
					<a href="/Paciente" class="quick-action-card">
						<i class="fa-solid fa-user-plus quick-action-icon"></i>
						<p class="quick-action-text">Registrar Paciente</p>
					</a>
					<a href="/Agenda" class="quick-action-card">
						<i class="fa-solid fa-calendar-days quick-action-icon"></i>
						<p class="quick-action-text">Agenda</p>
					</a>
					<a href="/ProductoServicio" class="quick-action-card">
						<i class="fa-solid fa-cart-plus quick-action-icon"></i>
						<p class="quick-action-text">Productos/Servicios</p>
					</a>
					<a href="/HistorialCita" class="quick-action-card">
						<i class="fa-solid fa-box-archive quick-action-icon"></i>
						<p class="quick-action-text">Historial de Citas</p>
					</a>
				</div>
			</main>
		</div>
	</div>

	<script>
		function logout() {
			localStorage.removeItem('token');
			localStorage.removeItem('userRole');
			window.location.href = '/';
		}
	</script>
</Layout>