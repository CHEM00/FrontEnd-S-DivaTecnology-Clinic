---
import NavBar from "../components/NavBar.astro";
import Layout from "../layouts/Layout.astro";
---
<Layout>
	<div class="flex h-screen bg-gray-50">
		<NavBar />
		<div class="flex-1 flex flex-col overflow-hidden">
			<!-- Header -->
			<header class="bg-white shadow-sm border-b border-gray-200">
				<div class="flex justify-between items-center px-6 py-4">
					<h1 class="text-2xl font-bold text-[#2F5D50]">Dashboard</h1>
					<div class="flex items-center space-x-4">
						<span class="text-sm text-gray-600">Bienvenido, Administrador</span>
						<button onclick="logout()" class="auth-button px-4 py-2 text-sm">
							Cerrar Sesión
						</button>
					</div>
				</div>
			</header>

			<main class="flex-1 overflow-y-auto p-6">
				<!-- Estadísticas principales -->
				<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
					<div class="dashboard-stat p-6 text-white">
						<div class="flex items-center">
							<div class="flex-1">
								<p class="text-sm opacity-90">Total User</p>
								<p class="text-3xl font-bold">40,689</p>
								<p class="text-xs opacity-90 mt-1">8.5% Up from yesterday</p>
							</div>
							<div class="text-2xl">
								<i class="fa-solid fa-users"></i>
							</div>
						</div>
					</div>

					<div class="dashboard-stat p-6 text-white">
						<div class="flex items-center">
							<div class="flex-1">
								<p class="text-sm opacity-90">Total Order</p>
								<p class="text-3xl font-bold">10,293</p>
								<p class="text-xs opacity-90 mt-1">1.3% Up from past week</p>
							</div>
							<div class="text-2xl">
								<i class="fa-solid fa-shopping-cart"></i>
							</div>
						</div>
					</div>

					<div class="dashboard-stat p-6 text-white">
						<div class="flex items-center">
							<div class="flex-1">
								<p class="text-sm opacity-90">Total Sales</p>
								<p class="text-3xl font-bold">$89,000</p>
								<p class="text-xs opacity-90 mt-1">4.3% Down from yesterday</p>
							</div>
							<div class="text-2xl">
								<i class="fa-solid fa-chart-line"></i>
							</div>
						</div>
					</div>

					<div class="dashboard-stat p-6 text-white">
						<div class="flex items-center">
							<div class="flex-1">
								<p class="text-sm opacity-90">Total Pending</p>
								<p class="text-3xl font-bold">2,040</p>
								<p class="text-xs opacity-90 mt-1">1.8% Up from yesterday</p>
							</div>
							<div class="text-2xl">
								<i class="fa-solid fa-clock"></i>
							</div>
						</div>
					</div>
				</div>

				<!-- Gráfica de ventas y próximas citas -->
				<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
					<!-- Gráfica de ventas -->
					<div class="dashboard-card p-6">
						<h3 class="text-lg font-semibold text-[#2F5D50] mb-4">Sales Details</h3>
						<div class="h-64 flex items-center justify-center bg-gray-100 rounded-lg">
							<div class="text-center">
								<div class="w-48 h-32 bg-gradient-to-r from-[#234D20] to-[#2F5D50] rounded-lg flex items-center justify-center mb-4">
									<span class="text-white font-bold text-2xl">54%</span>
								</div>
								<p class="text-gray-600">Gráfica de ventas mensuales</p>
							</div>
						</div>
					</div>

					<!-- Próximas citas -->
					<div class="dashboard-card p-6">
						<h3 class="text-lg font-semibold text-[#2F5D50] mb-4">Próximas Citas Hoy</h3>
						<div class="space-y-3">
							<div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
								<div>
									<p class="font-medium text-[#2F5D50]">10:00 AM</p>
									<p class="text-sm text-gray-600">PACIENTE 1</p>
								</div>
								<span class="status-pending">PENDIENTE</span>
							</div>
							<div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
								<div>
									<p class="font-medium text-[#2F5D50]">10:00 AM</p>
									<p class="text-sm text-gray-600">PACIENTE 2</p>
								</div>
								<span class="status-pending">PENDIENTE</span>
							</div>
							<div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
								<div>
									<p class="font-medium text-[#2F5D50]">11:00 AM</p>
									<p class="text-sm text-gray-600">PACIENTE 3</p>
								</div>
								<span class="status-confirmed">CONFIRMADA</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Acciones rápidas -->
				<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
					<a href="/Paciente" class="dashboard-card p-4 text-center hover:shadow-md transition-shadow">
						<i class="fa-solid fa-user-plus text-2xl text-[#234D20] mb-2"></i>
						<p class="text-sm font-medium">Registrar Paciente</p>
					</a>
					<a href="/Agenda" class="dashboard-card p-4 text-center hover:shadow-md transition-shadow">
						<i class="fa-solid fa-calendar-days text-2xl text-[#234D20] mb-2"></i>
						<p class="text-sm font-medium">Agenda</p>
					</a>
					<a href="/ProductoServicio" class="dashboard-card p-4 text-center hover:shadow-md transition-shadow">
						<i class="fa-solid fa-cart-plus text-2xl text-[#234D20] mb-2"></i>
						<p class="text-sm font-medium">Productos/Servicios</p>
					</a>
					<a href="/HistorialCita" class="dashboard-card p-4 text-center hover:shadow-md transition-shadow">
						<i class="fa-solid fa-box-archive text-2xl text-[#234D20] mb-2"></i>
						<p class="text-sm font-medium">Historial de Citas</p>
					</a>
				</div>
			</main>
		</div>
	</div>

	<script>
		function logout() {
			localStorage.removeItem('token');
			localStorage.removeItem('userRole');
			window.location.href = '/';
		}

		
	</script>
</Layout>